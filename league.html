<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>League â€” The Cricket Boss</title>
  <style>
    :root{
      --bg:#071029;
      --panel:rgba(255,255,255,0.02);
      --muted:#9aa5bf;
      --accent:#ffd54f;
      --text:#e6eef8;
    }
    html,body{
      padding-bottom: 140px;
      box-sizing: border-box;
      height:100%;
      margin:0;
      background:linear-gradient(180deg,var(--bg),#071020);
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial
    }
    .container{max-width:1100px;margin:0 auto;padding:12px;box-sizing:border-box}
    .topbar-placeholder{height:64px}
    .league-header{display:flex;align-items:center;gap:12px;margin:10px 0;flex-wrap:wrap}
    .league-name{font-size:20px;font-weight:700}
    .controls{margin-left:auto;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .search-input{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text);min-width:140px;max-width:60%;box-sizing:border-box}
    .btn{padding:8px 10px;border-radius:8px;background:var(--panel);border:1px solid rgba(255,255,255,0.04);cursor:pointer;color:var(--text)}
    .tabs{display:flex;gap:10px;margin:12px 0}
    .tab{padding:8px 12px;border-radius:8px;background:var(--panel);cursor:pointer;font-weight:700}
    .tab.active{background:linear-gradient(90deg,#1b3358,#14243b);color:var(--accent)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:10px;padding:8px}
    .table-wrap{width:100%;overflow:auto;-webkit-overflow-scrolling:touch;border-radius:8px;padding-bottom:128px}
    table.league-table{width:100%;border-collapse:collapse;table-layout:fixed;min-width:0}
    table.league-table thead th{ text-align:left;padding:10px 8px;font-weight:700;font-size:13px;color:var(--muted);border-bottom:1px solid rgba(255,255,255,0.03)}
    table.league-table tbody td{ padding:12px 8px;font-size:14px;color:var(--text);border-bottom:1px solid rgba(255,255,255,0.03);vertical-align:middle}
    .col-pos{width:7%}
    .col-logo{width:10%}
    .col-team{width:48%}
    .col-stat{width:12%;text-align:center;font-weight:700}
    .team-cell{display:flex;align-items:center;gap:10px;min-width:0}
    .team-logo{width:36px;height:36px;border-radius:6px;object-fit:cover}
    .team-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-weight:600}
    .detail-row td{ background: rgba(255,255,255,0.015); font-size:13px; color:var(--muted); padding:10px 12px }
    .clickable-row{cursor:pointer}
    .muted{color:var(--muted)}
    a.team-link{color:inherit;text-decoration:none;display:inline-block;width:100%}
    /* Matches table specifics */
    table.matches-table{width:100%;border-collapse:collapse}
    .match-team { display:flex; gap:10px; align-items:center; min-width:0 }
    .match-score { font-weight:700; text-align:right }
    .match-status { font-size:12px; color:var(--muted) }
    @media (max-width:720px){
      .col-pos{width:7%}
      .col-logo{width:12%}
      .col-team{width:54%}
      .col-stat{width:10%}
      .team-logo{width:30px;height:30px}
    }
    @media (max-width:480px){
      .team-logo{width:28px;height:28px}
      table.league-table thead th, table.league-table tbody td { padding:10px 6px }
      .team-name{font-size:14px}
      .search-input{max-width:56%}
    }
    .detail-row .compact-detail { display:flex; gap:12px; flex-wrap:wrap; white-space:normal; overflow:visible; }
    .detail-row .compact-detail > div { min-width:60px; flex:0 0 auto; }
    .fallback-topbar { position:fixed;top:0;left:0;right:0;height:64px; background:linear-gradient(90deg,#182b4d,#111d3a); color:#fff;display:flex;align-items:center;padding:6px 12px;box-sizing:border-box;z-index:9999; box-shadow:0 4px 14px rgba(0,0,0,0.25); }
    .stats-grid { display:flex; gap:20px; flex-wrap:wrap; margin-top:8px }
    .stats-panel { flex:1; min-width:220px; }
  </style>
</head>
<body>
  <div id="topbarContainer" class="topbar-placeholder"></div>

  <div class="container">
    <div class="league-header">
      <div><div class="league-name" id="leagueName">League</div></div>
      <div class="controls">
        <input id="leagueSearch" class="search-input" placeholder="Search league by name" />
        <button id="searchBtn" class="btn">Search</button>
        <button id="myLeagueBtn" class="btn">My League</button>
      </div>
    </div>

    <div class="tabs" role="tablist">
      <div id="tabPoints" class="tab active" role="tab" aria-selected="true">POINT TABLE</div>
      <div id="tabMatches" class="tab" role="tab" aria-selected="false">MATCHES</div>
      <div id="tabStats" class="tab" role="tab" aria-selected="false">STATISTICS</div>
    </div>

    <!-- POINT TABLE -->
    <div id="pointsCard" class="card" aria-labelledby="tabPoints">
      <div class="table-wrap">
        <table class="league-table" id="pointsTable" aria-describedby="pointsCaption">
          <caption id="pointsCaption" class="muted" style="display:none">League point table</caption>
          <thead>
            <tr>
              <th class="col-pos">Pos</th>
              <th class="col-logo">Logo</th>
              <th class="col-team">Team</th>
              <th class="col-stat">M</th>
              <th class="col-stat">Pts</th>
            </tr>
          </thead>
          <tbody id="pointsBody"></tbody>
        </table>
      </div>
    </div>

    <!-- MATCHES -->
    <div id="matchesCard" class="card" style="display:none; margin-top:8px" aria-labelledby="tabMatches">
      <div class="table-wrap">
        <table class="matches-table" id="matchesTable">
          <thead>
            <tr>
              <th class="col-pos">#</th>
              <th class="col-team">Fixture</th>
              <th class="col-stat">OVR</th>
              <th class="col-stat">Score</th>
            </tr>
          </thead>
          <tbody id="matchesBody"></tbody>
        </table>
      </div>
    </div>

    <!-- STATISTICS -->
    <div id="statsCard" class="card" style="display:none; margin-top:12px" aria-labelledby="tabStats">
      <div id="statistics">Statistics will appear here</div>

      <div class="stats-grid">
        <div class="stats-panel">
          <h4 style="margin:6px 0">Top 5 Batters</h4>
          <div id="topBatters" class="muted">No data yet</div>
        </div>
        <div class="stats-panel">
          <h4 style="margin:6px 0">Top 5 Bowlers</h4>
          <div id="topBowlers" class="muted">No data yet</div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./js/league.js"></script>
</body>
</html>
